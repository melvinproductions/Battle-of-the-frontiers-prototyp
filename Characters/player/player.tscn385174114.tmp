[gd_scene load_steps=11 format=3 uid="uid://dsgbxlgbmurpy"]

[ext_resource type="Script" uid="uid://ccivdtog186g1" path="res://Characters/player/player.gd" id="1_763xw"]
[ext_resource type="Texture2D" uid="uid://00bcv8fnrgd1" path="res://sprites/Monkey-D-Luffy-PNG-Transparent-Image.png" id="2_6wacn"]
[ext_resource type="PackedScene" uid="uid://jypelxj7pws" path="res://guns/pistol/pistol.tscn" id="3_ek8bb"]
[ext_resource type="PackedScene" uid="uid://bgv1dpkdk873f" path="res://UI/healthbar.tscn" id="4_aq715"]

[sub_resource type="Environment" id="Environment_rkbax"]
background_mode = 3
glow_enabled = true
glow_strength = 0.81
glow_bloom = 0.43
volumetric_fog_density = 0.171

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rkbax"]
size = Vector2(58, 100)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_763xw"]
bg_color = Color(1, 1, 1, 1)
border_color = Color(0, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6wacn"]
bg_color = Color(0, 0, 0, 0.80784315)

[sub_resource type="CircleShape2D" id="CircleShape2D_763xw"]
radius = 157.49683

[sub_resource type="FontVariation" id="FontVariation_763xw"]

[node name="Player" type="CharacterBody2D"]
collision_layer = 4
script = ExtResource("1_763xw")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_rkbax")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(0.11, 0.11)
texture = ExtResource("2_6wacn")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_rkbax")

[node name="Camera2D" type="Camera2D" parent="."]
scale = Vector2(0.545, 0.545)
zoom = Vector2(0.75, 0.75)
position_smoothing_speed = 10.0

[node name="Gun" parent="." instance=ExtResource("3_ek8bb")]

[node name="timers" type="Node" parent="."]

[node name="Dash_duration_timer" type="Timer" parent="timers"]
wait_time = 0.2
one_shot = true

[node name="Dash_cooldown_timer" type="Timer" parent="timers"]
wait_time = 2.0
one_shot = true

[node name="Invincibility_timer" type="Timer" parent="timers"]
one_shot = true

[node name="bars" type="Node2D" parent="."]

[node name="dash_progress_bar" type="ProgressBar" parent="bars"]
offset_left = 27.999998
offset_top = -65.0
offset_right = 32.00006
offset_bottom = -38.0
scale = Vector2(-14.480004, 0.24000031)
theme_override_styles/background = SubResource("StyleBoxFlat_763xw")
theme_override_styles/fill = SubResource("StyleBoxFlat_6wacn")
value = 50.0
show_percentage = false

[node name="health_bar" parent="bars" instance=ExtResource("4_aq715")]
z_index = 2
offset_left = -720.0
offset_top = -389.0
offset_right = -305.0
offset_bottom = -360.0

[node name="Pickup_detector" type="Area2D" parent="."]
collision_layer = 4
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pickup_detector"]
position = Vector2(-5, -9.5)
shape = SubResource("CircleShape2D_763xw")
debug_color = Color(0.63720506, 0.5240059, 0.11743613, 0.047058824)

[node name="EnemyChecker" type="Label" parent="."]
modulate = Color(0, 0.9303099, 0.47277993, 1)
z_index = 3
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 546.0
offset_top = -393.0
offset_right = 693.0
offset_bottom = -261.0
grow_horizontal = 0
theme_override_fonts/font = SubResource("FontVariation_763xw")
theme_override_font_sizes/font_size = 96
text = "0/8"
horizontal_alignment = 2
uppercase = true

[connection signal="timeout" from="timers/Dash_duration_timer" to="." method="_on_dash_duration_timer_timeout"]
[connection signal="timeout" from="timers/Dash_cooldown_timer" to="." method="_on_dash_cooldown_timer_timeout"]
[connection signal="timeout" from="timers/Invincibility_timer" to="." method="_on_invincibility_timer_timeout"]
[connection signal="area_entered" from="Pickup_detector" to="." method="_on_pickup_detector_area_entered"]
